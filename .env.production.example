# Production Environment Configuration
# Copy this file to .env on your server and update with real values
# IMPORTANT: Keep .env file secure and never commit it to git

# Build and deployment mode
BUILD_MODE=prod
NODE_ENV=production
IMAGE_TAG=latest

# Profiles (empty = only core services, no dev tools, no nginx container)
# Use 'with-nginx' if you want containerized nginx, otherwise use host nginx
COMPOSE_PROFILES=

# Database - CHANGE THESE VALUES
POSTGRES_USER=weighttracker
POSTGRES_PASSWORD=CHANGE_THIS_SECURE_PASSWORD
POSTGRES_DB=weighttracker
POSTGRES_PORT=5432

# Redis
REDIS_PORT=6379

# API - Bind to localhost only (nginx on host will proxy)
API_PORT=127.0.0.1:4000
PRISMA_STUDIO_PORT=127.0.0.1:5555
JWT_SECRET=CHANGE_THIS_TO_RANDOM_SECRET_MIN_32_CHARS
JWT_REFRESH_SECRET=CHANGE_THIS_TO_DIFFERENT_RANDOM_SECRET_MIN_32_CHARS

# Web/Frontend - Bind to localhost only
WEB_PORT=127.0.0.1:3000
PUBLIC_API_URL=https://yourdomain.com/api

# Nginx (if using with-nginx profile)
NGINX_PORT=80

# Email - Use real SMTP server in production
SMTP_HOST=smtp.yourmailprovider.com
SMTP_PORT=587
SMTP_USER=your-smtp-username
SMTP_PASSWORD=your-smtp-password

# CORS - Your production domain
CORS_ORIGIN=https://yourdomain.com

# Volume mounts - Use empty/dummy paths in production (no hot reloading needed)
API_SRC_MOUNT=/dev/null
API_PRISMA_MOUNT=/dev/null
WEB_SRC_MOUNT=/dev/null
WEB_PUBLIC_MOUNT=/dev/null
MOUNT_MODE=ro
